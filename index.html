<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><meta name="author" content="Cédric Champeau (@CedricChampeau), Gradle" /><title>: Building and testing Java 9 applications with Gradle</title><meta content="yes" name="apple-mobile-web-app-capable" /><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style" /><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" name="viewport" /><link href="reveal.js/css/reveal.css" rel="stylesheet" /><link rel="stylesheet" href="reveal.js/css/theme/summit.css" id="theme" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css" /><link href="reveal.js/lib/css/zenburn.css" rel="stylesheet" /><script>document.write( '<link rel="stylesheet" href="reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );</script><link rel="stylesheet" type="text/css" href="reveal.js/css/theme/asciinema-player.css" />
<link rel="stylesheet" type="text/css" href="reveal.js/css/theme/github-gist.css" />
<script src="reveal.js/css/theme/asciinema-player.js"></script>
<script src="reveal.js/css/theme/cytoscape.min.js"></script>
<script src="https://cdn.rawgit.com/cpettitt/dagre/v0.7.4/dist/dagre.min.js"></script>
<script src="https://cdn.rawgit.com/cytoscape/cytoscape.js-dagre/1.5.0/cytoscape-dagre.js"></script>
<script src="reveal.js/css/theme/dependency-graph.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.css" rel="stylesheet" type="text/css"/> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.4/d3.min.js" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.js"></script>

</head><body><div class="reveal"><div class="slides"><section class="title" data-state="title" data-transition="zoom" data-transition-speed="fast" data-background-image="./images/title.jpeg"><h1></h1><h2>Building and testing Java 9 applications with Gradle</h2><p class="author"><small>Cédric Champeau (@CedricChampeau), Gradle</small></p></section><section id="who-am-i"><h2>Who am I</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">speaker {
    name 'Cédric Champeau'
    company 'Gradle Inc'
    oss 'Apache Groovy committer',
    successes 'Static type checker',
              'Static compilation',
              'Traits',
              'Markup template engine',
              'DSLs'
        failures Stream.of(bugs),
        twitter '@CedricChampeau',
        github 'melix',
        extraDescription '''Groovy in Action 2 co-author
Misc OSS contribs (Gradle plugins, deck2pdf, jlangdetect, ...)'''
}</code></pre></div></div></section>
<section id="agenda"><h2>Agenda</h2><div class="ulist"><ul><li><p>What are Java 9 modules?</p></li><li><p>Migrating an existing app to modules</p></li><li><p>Running tests</p></li><li><p>(bonus!) multi-release jars</p></li><li><p>(extra time!) minimal runtime images</p></li></ul></div></section>
<section id="jpms-aka-modules-for-java"><h2>JPMS aka Modules for Java</h2><div class="ulist"><ul><li><p>Modularity for the Java platform</p><div class="ulist"><ul><li><p><strong>Reliable configuration</strong> (goodbye <em>classpath</em>)</p></li><li><p><strong>Strong encapsulation</strong> (goodbye <em>com.sun</em>)</p></li></ul></div></li><li><p>Enforce strict boundaries between modules</p><div class="ulist"><ul><li><p>compile-time</p></li><li><p>run-time</p></li></ul></div></li></ul></div></section>
<section><section id="java-9-modules" data-background-color="#01303a"><h2>Java 9 modules</h2></section><section id="declaring-a-module"><h2>Declaring a module</h2><div class="listingblock"><div class="title">module-info.java</div><div class="content"><pre class="highlight"><code class="java language-java">module com.foo.bar {
    requires org.baz.qux;
    exports com.foo.bar.alpha;
    exports com.foo.bar.beta;
}</code></pre></div></div></section><section id="a-module"><h2>A module</h2><div class="ulist"><ul><li><p>Declares dependencies onto other modules</p><div class="ulist"><ul><li><p>optionally transitive</p></li></ul></div></li><li><p>Declares a list of packages it exports</p></li><li><p>will be found on <em>modulepath</em></p></li><li><p>optionally declares services</p></li></ul></div></section></section>
<section id="why-it-s-going-to-break-your-apps"><h2>Why it&#8217;s going to break your apps</h2><div class="ulist"><ul><li><p>Exports are package based</p></li><li><p>A non-exported package is not visible to consumers</p></li><li><p>2 modules cannot export the same packages</p></li><li><p>2 modules cannot have the same internal packages</p></li></ul></div>
<div class="paragraph"><p>Death to <strong>split packages</strong>.</p></div></section>
<section><section id="gradle-support-for-java-9"><h2>Gradle support for Java 9</h2><div class="ulist"><ul><li><p>Good news: it works!</p></li><li><p>Sad news: limited (but in progress)</p></li></ul></div></section><section id="what-gradle-supports"><h2>What Gradle supports</h2><div class="ulist"><ul><li><p>Running on Java 9</p></li><li><p>Cross-compiling</p><div class="ulist"><ul><li><p>Gradle runs on JDK 8</p></li><li><p>Gradle builds using JDK 9</p></li></ul></div></li><li><p>No built-in support for modulepath</p></li><li><p>But we can help!</p></li></ul></div></section><section id="warning"><h2>Warning</h2><div class="ulist"><ul><li><p>Some plugins don&#8217;t work</p><div class="ulist"><ul><li><p>eg FindBugs</p></li></ul></div></li></ul></div></section></section>
<section><section id="the-java-library-plugin" data-background-color="#01303a"><h2>The Java Library plugin</h2></section><section id="the-java-library-plugin-2"><h2>The Java Library plugin</h2><div class="ulist"><ul><li><p>Introduced in Gradle 3.4</p></li><li><p>Aimed at Java libraries</p></li><li><p>Separates API and implementation dependencies</p></li></ul></div></section><section id="api-dependencies"><h2>API dependencies</h2><div class="ulist"><ul><li><p>Form part of the API of the library</p></li><li><p>Typically: method parameters, interfaces, superclasses, &#8230;&#8203;</p></li></ul></div></section><section id="implementation-dependencies"><h2>Implementation dependencies</h2><div class="ulist"><ul><li><p>Used "internally"</p></li><li><p>Shouldn&#8217;t leak to compile classpath of consumers</p></li><li><p>Implementation detail</p></li></ul></div></section></section>
<section id="usage"><h2>Usage</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">// This component has an API and an implementation
apply plugin: 'java-library'

dependencies {
   api project(':model')
   implementation 'com.google.guava:guava:18.0'
}</code></pre></div></div></section>
<section><section id="the-storyteller-application"><h2>The StoryTeller application</h2><div class="ulist"><ul><li><p>Built with Java 8 (hence no modules)</p></li><li><p>6 "modules"</p><div class="ulist"><ul><li><p><code>fairy</code> - Entry point to the storyteller java application</p></li><li><p><code>tale</code> - public <code>Tale</code> interface.</p></li><li><p><code>formula</code> - makes it easy to weave a <code>Tale</code></p></li><li><p><code>actors</code> - represents the characters in a fairy tale.</p></li><li><p><code>pigs</code> - produces an instance of <code>Tale</code> which represents the story of the three little pigs.</p></li><li><p><code>bears</code> - produces an instance of <code>Tale</code> which represents the story of Goldilocks and the three bears.</p></li></ul></div></li></ul></div></section><section id="dependency-graph"><h2>Dependency graph</h2><div class="imageblock" style=""><img src="./images/project-graph.png" alt="project graph" width="1280" height="500px" /></div></section><section id="fairy-storyteller"><h2>Fairy: StoryTeller</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="java language-java">package org.gradle.fairy.app;

public class StoryTeller {
    public static void main(String[] args) {
        ServiceLoader&lt;Tale&gt; loader = ServiceLoader.load(Tale.class);
        if (!loader.iterator().hasNext()) {
            System.out.println("Alas, I have no tales to tell!");
        }
        for (Tale tale : loader) {
            tale.tell();
        }
    }
}</code></pre></div></div></section><section id="fairy-build-gradle"><h2>Fairy: build.gradle</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">dependencies {
    implementation project(':tale')

    runtimeOnly project(':pigs')
    runtimeOnly project(':bears')
}</code></pre></div></div></section><section id="formula-build-gradle"><h2>Formula: build.gradle</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">dependencies {
    api project(':tale')
    api project(':actors')

    testImplementation 'junit:junit:4.12'
}</code></pre></div></div></section><section id="strong-encapsulation-breakage"><h2>Strong encapsulation breakage</h2><div class="ulist"><ul><li><p><code>ModularityTest</code> lives in <code>Formula</code></p></li><li><p>Let&#8217;s see how encapsulation is broken</p></li></ul></div></section><section id="test-1-should-always-pass"><h2>Test 1: should always pass</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="java language-java">    @Test
    public void canReachActor() {
        Actor actor = Imagination.createActor("Sean Connery");
        assertEquals("Sean Connery", actor.toString());
    }</code></pre></div></div></section><section id="test-2-should-fail"><h2>Test 2 : should fail</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="java language-java">    @Test
    public void canDynamicallyReachDefaultActor() throws Exception {
        Class clazz = ModularityTest
            .class.getClassLoader()
            .loadClass("org.gradle.actors.impl.DefaultActor");
        Actor actor = (Actor) clazz.getConstructor(String.class)
            .newInstance("Kevin Costner");
        assertEquals("Kevin Costner", actor.toString());
    }</code></pre></div></div></section><section id="test-3-should-fail"><h2>Test 3 : should fail</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="java language-java">    @Test
    public void canReachDefaultActor() {
        Actor actor = new org.gradle.actors.impl.DefaultActor("Kevin Costner");
        assertEquals("Kevin Costner", actor.toString());
    }</code></pre></div></div></section><section id="test-4-fails-already"><h2>Test 4 : fails already!</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="java language-java">    @Test
    public void canReachGuavaClasses() {
        Set&lt;String&gt; strings = com.google.common.collect.ImmutableSet.of("Hello", "Goodbye");
        assertTrue(strings.contains("Hello"));
        assertTrue(strings.contains("Goodbye"));
    }</code></pre></div></div></section><section id="how-does-it-map-to-modular-java-concepts"><h2>How does it map to modular Java concepts?</h2><div class="paragraph"><p>(warning: this is not one to one mapping)</p></div>
<div class="ulist"><ul><li><p><code>implementation</code> &#8594; requires</p></li><li><p><code>api</code> &#8594; requires <em>transitive</em></p></li><li><p><code>runtimeOnly</code> &#8594; requires <em>static</em></p></li></ul></div></section><section id="source-layout"><h2>Source layout</h2><div class="ulist"><ul><li><p>src/main/java &#8594; your application sources
*src/test/java &#8594; your test sources</p></li><li><p>We want to compile main and tests separately</p><div class="ulist"><ul><li><p>It&#8217;s good for performance</p></li><li><p>It&#8217;s better for incrementality</p></li><li><p>Problem: one or two modules?</p></li></ul></div></li></ul></div></section></section>
<section><section id="let-s-migrate" data-background-color="#01303a"><h2>Let&#8217;s migrate!</h2></section><section id="let-s-migrate-2"><h2>Let&#8217;s migrate</h2><div class="ulist"><ul><li><p>Bottom-up approach</p></li><li><p>Fully compatible</p></li><li><p>Modules are consumable as regular jars</p></li></ul></div>
<div class="paragraph"><p>Let&#8217;s take advantage of that!</p></div></section></section>
<section><section id="migrate-the-code-actors-code-module"><h2>Migrate the <code>actors</code> module</h2></section><section id="add-the-module-info-descriptor"><h2>Add the module-info descriptor</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="java language-java">module org.gradle.actors {
    exports org.gradle.actors;
    requires guava;
}</code></pre></div></div></section><section id="compiling-the-module"><h2>Compiling the module</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">ext.moduleName = 'org.gradle.actors'

sourceCompatibility = 9
targetCompatibility = 9

compileJava {
    inputs.property("moduleName", moduleName)
    doFirst {
        options.compilerArgs = [
            '--module-path', classpath.asPath,
        ]
        classpath = files()
    }
}</code></pre></div></div></section><section id="testing-1-2"><h2>Testing (1/2)</h2><div class="ulist"><ul><li><p>2 possible approaches</p><div class="ulist"><ul><li><p>a test module which reads the main module</p></li><li><p>patch module: easier, more compatible, faster</p></li></ul></div></li></ul></div></section><section id="testing-2-3"><h2>Testing (2/3)</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">compileTestJava {
    inputs.property("moduleName", moduleName)
    doFirst {
        options.compilerArgs = [
            '--module-path', classpath.asPath,
            '--add-modules', 'junit',
            '--add-reads', "$moduleName=junit",
            '--patch-module', "$moduleName=" +
               files(sourceSets.test.java.srcDirs).asPath,
        ]
        classpath = files()
    }
}</code></pre></div></div></section><section id="testing-3-3"><h2>Testing (3/3)</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">test {
    inputs.property("moduleName", moduleName)
    doFirst {
        jvmArgs = [
            '--module-path', classpath.asPath,
            '--add-modules', 'ALL-MODULE-PATH',
            '--add-reads', "$moduleName=junit",
            '--patch-module', "$moduleName=" +
               files(sourceSets.test.java.outputDir).asPath,
        ]
        classpath = files()
    }
}</code></pre></div></div></section></section>
<section><section id="what-about-the-other-projects"><h2>What about the other projects?</h2><div class="ulist"><ul><li><p>They are still regular jars</p></li><li><p>But we <em>know</em> we&#8217;re going to migrate them at some point</p></li></ul></div></section><section id="automatic-modules"><h2>Automatic modules</h2><div class="ulist"><ul><li><p>When a "legacy" jar is added to <em>module path</em></p></li><li><p>Java infers a module name from the <em>file name</em> (uh!)</p></li><li><p>Unless you <em>reserve</em> a module name</p></li></ul></div></section><section id="add-code-automatic-module-name-code"><h2>Add <code>Automatic-Module-Name</code></h2></section><section id="module-name"><h2>Module Name</h2><div class="ulist"><ul><li><p>Add <code>ext.moduleName = '&#8230;&#8203;'</code> on each module</p></li></ul></div></section><section id="configure-the-jar-task"><h2>Configure the jar task</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">jar {
    inputs.property("moduleName", moduleName)
    manifest {
        attributes('Automatic-Module-Name': moduleName)
    }
}</code></pre></div></div></section></section>
<section><section id="everything-as-a-module"><h2>Everything as a module</h2></section><section id="cross-configure-all-projects"><h2>Cross-configure all projects</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">subprojects {
    afterEvaluate {
         ...
        compileJava {
            inputs.property("moduleName", moduleName)
            doFirst {
                options.compilerArgs = [
                    '--module-path', classpath.asPath,
                ]
                classpath = files()
            }
        }

        ...
    }
}</code></pre></div></div></section><section id="remove-code-automatic-module-name-code"><h2>Remove <code>Automatic-Module-Name</code></h2><div class="ulist"><ul><li><p>No longer required</p></li></ul></div></section><section id="move-to-the-new-service-infrastructure"><h2>Move to the new service infrastructure</h2><div class="ulist"><ul><li><p>Replace <code>META-INF/services</code> with <code>module-info</code></p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">module org.gradle.fairy.tale.bears {
    requires org.gradle.actors;
    requires transitive org.gradle.fairy.tale;
    requires org.gradle.fairy.tale.formula;

    provides org.gradle.fairy.tale.Tale
        with org.gradle.fairy.tale.bears.GoldilocksAndTheThreeBears;
}</code></pre></div></div></section></section>
<section><section id="running-the-modular-application"><h2>Running the modular application</h2><div class="ulist"><ul><li><p>Apply the <code>application</code> plugin</p></li><li><p>But requires some tweaking&#8230;&#8203;</p></li></ul></div></section><section id="the-code-run-code-task"><h2>The <code>run</code> task</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">mainClassName = "$moduleName/org.gradle.fairy.app.StoryTeller"

run {
    inputs.property("moduleName", moduleName)
    doFirst {
        jvmArgs = [
            '--module-path', classpath.asPath,
            '--module', mainClassName
        ]
        classpath = files()
    }
}</code></pre></div></div></section></section>
<section><section id="we-have-good-news" data-background-color="#01303a"><h2>We have good news!</h2></section><section id="experimental-jigsaw-plugin"><h2>Experimental Jigsaw plugin</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">plugins {
    id 'org.gradle.java.experimental-jigsaw' version '0.1.1'
}</code></pre></div></div></section></section>
<section><section id="multi-release-jars" data-background-color="#01303a"><h2>Multi-release jars</h2></section><section id="goal"><h2>Goal</h2><div class="ulist"><ul><li><p>Provide several versions of the same class for runtime</p></li></ul></div></section><section id="disclaimer"><h2>Disclaimer</h2><div class="paragraph"><p>Don&#8217;t do this at home</p></div></section><section id="cross-compilation"><h2>Cross-compilation</h2><div class="ulist"><ul><li><p>Running Gradle on Java 9 doesn&#8217;t mean you need to use it</p></li><li><p>You can target different compilers</p></li></ul></div></section><section id="sources-setup"><h2>Sources setup</h2><div class="ulist"><ul><li><p><code>src/main/java</code> : shared sources</p></li><li><p><code>src/main/java9</code> : Java 9 specific sources</p></li></ul></div></section><section id="add-a-source-set"><h2>Add a source set</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">sourceSets {
   java9 {
      java {
       srcDirs = ['src/main/java9']
      }
   }
}</code></pre></div></div></section><section id="configure-language-level"><h2>Configure language level</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">compileJava {
   sourceCompatibility = 8
   targetCompatibility = 8
}

compileJava9Java {
   sourceCompatibility = 9
   targetCompatibility = 9
}</code></pre></div></div></section><section id="add-dependency-on-shared-sources"><h2>Add dependency on shared sources</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">dependencies {
    java9Implementation files(sourceSets.main.output.classesDirs) {
       builtBy compileJava
    }
}</code></pre></div></div></section><section id="configuring-the-mrjar"><h2>Configuring the MRjar</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">jar {
   into('META-INF/versions/9') {
      from sourceSets.java9.output
   }
   manifest.attributes(
      'Multi-Release': 'true',
      'Main-Class': 'com.acme.JdkSpecific'
   )
}</code></pre></div></div></section><section id="setting-up-a-run-task"><h2>Setting up a run task</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">task run(type: JavaExec) {
   dependsOn jar
   classpath files(jar.archivePath)
   main = 'com.acme.JdkSpecific'
}</code></pre></div></div></section><section id="the-code-release-code-flag"><h2>The <code>--release</code> flag</h2><div class="ulist"><ul><li><p>Fixes <code>bootclasspath</code> that no-one uses</p></li><li><p>Available since JDK 9</p></li><li><p>Compiles against the <strong>right</strong> API</p></li><li><p>Gradle will <strong>not</strong> add <code>-source</code>/<code>-target</code></p><div class="ulist"><ul><li><p>Only if <code>--release</code> is present</p></li></ul></div></li></ul></div></section><section id="configuring-compile-tasks"><h2>Configuring compile tasks</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">project.afterEvaluate {
   tasks.withType(JavaCompile) {
      def version = compat(sourceCompatibility)
      options.compilerArgs.addAll(['--release', version])
   }
}</code></pre></div></div></section></section>
<section><section id="minimal-runtime-image" data-background-color="#01303a"><h2>Minimal runtime image</h2></section><section id="jlink"><h2>jlink</h2><div class="ulist"><ul><li><p>Allows building minimal runtime images</p></li><li><p>requires <strong>full modularization</strong></p><div class="ulist"><ul><li><p>including transitive dependencies</p></li><li><p>hence not relevant in this example (Guava)</p></li></ul></div></li></ul></div></section><section id="no-built-in-task-yet"><h2>No built-in task (yet)</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">task jlink(type:Exec) {
   ext.outputDir = file("$buildDir/jlink")
   inputs.files(configurations.runtimeClasspath)
   inputs.files(jar.archivePath)
   outputs.dir(outputDir)
   dependsOn jar
   doFirst {
      outputDir.deleteDir()
      commandLine '$javaHome/bin/jlink',
           '--module-path',
           "$javaHome/jmods/:${configurations.runtimeClasspath.asPath}:${jar.archivePath}",
           '--add-modules', moduleName,
           '--output', outputDir

    }
}</code></pre></div></div></section></section>
<section><section id="conclusion" data-background-color="#01303a"><h2>Conclusion</h2></section><section id="conclusion-2"><h2>Conclusion</h2><div class="ulist"><ul><li><p>Slides: <a href="https://melix.github.io/javaone-2017-jigsaw" class="bare">https://melix.github.io/javaone-2017-jigsaw</a></p></li><li><p>Discuss: @CedricChampeau</p></li></ul></div></section></section>
<section id="thanks" data-background-color="#01303a"><h2>Thanks!</h2></section></div></div><script src="reveal.js/lib/js/head.min.js"></script><script src="reveal.js/js/reveal.js"></script><script>// See https://github.com/hakimel/reveal.js#configuration for a full list of configuration options
Reveal.initialize({
  // Display controls in the bottom right corner
  controls: true,
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: true,
  // Push each slide change to the browser history
  history: true,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  previewLinks: false,
  // Theme (e.g., beige, black, league, night, serif, simple, sky, solarized, white)
  // NOTE setting the theme in the config no longer works in reveal.js 3.x
  //theme: Reveal.getQueryHash().theme || 'summit',
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: Reveal.getQueryHash().transition || 'linear',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
      { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
  ]
});</script></body></html>